{% extends 'myapp/base.html' %}
{% load widget_tweaks %}
{% block title %}{{ form.instance.pk|yesno:"Edit Student,Add Student" }}{% endblock %}

{% block content %}
  <div class="container py-3">
    <div class="row">
      <div class="col-12">
        <h1 class="mb-4">{{ form.instance.pk|yesno:"Edit Student,Add Student" }}</h1>
      </div>
    </div>

    <form method="post" novalidate>
      {% csrf_token %}
      {{ form.non_field_errors }}

      <div class="mb-3">
        <label class="form-label" for="id_name">Name:</label>
        {{ form.name|add_class:"form-control"|attr:"placeholder:Enter student name" }}
        {% for error in form.name.errors %}<div class="text-danger small">{{ error }}</div>{% endfor %}
      </div>

      <div class="mb-3">
        <label class="form-label" for="id_roll_no">Roll Number:</label>
        {{ form.roll_no|add_class:"form-control"|attr:"placeholder:Enter roll number" }}
        {% for error in form.roll_no.errors %}<div class="text-danger small">{{ error }}</div>{% endfor %}
      </div>

      <div class="mb-3">
        <label class="form-label" for="id_email">Email:</label>
        {{ form.email|add_class:"form-control"|attr:"placeholder:Enter email" }}
        {% for error in form.email.errors %}<div class="text-danger small">{{ error }}</div>{% endfor %}
      </div>

      <div class="mb-3">
        <label class="form-label" for="id_phone_number">Phone Number:</label>
        {{ form.phone_number|add_class:"form-control"|attr:"placeholder:Enter phone number" }}
        {% for error in form.phone_number.errors %}<div class="text-danger small">{{ error }}</div>{% endfor %}
      </div>

      <div class="mb-3">
        <label class="form-label" for="id_department">Department:</label>
        {{ form.department|add_class:"form-select" }}
        {% for error in form.department.errors %}<div class="text-danger small">{{ error }}</div>{% endfor %}
      </div>

      <div class="d-flex align-items-center mt-3">
        <button type="submit" class="btn btn-primary me-3">Save</button>
        <a href="{% url 'student_list' %}" class="btn btn-link">Cancel</a>
      </div>
    </form>
  </div>
{% endblock %}
